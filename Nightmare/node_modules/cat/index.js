const request = require('request');

// Display a random cat
module.exports.cat_display = function (message) {
    request.get('http://random.cat/meow', (err, response, body) => {
        let parsedBody = JSON.parse(body);
        let url = parsedBody.file;
        message.channel.sendMessage(url);
    });
}

// Check if the user has the required rights
function testDroits(drois, message) {
    var modRole = message.guild.roles.find("name", drois);

    if (!message.member.roles.has(modRole.id)) {
        console.log(message.mentions.users.size);
        message.reply("autorisation : " + drois + " required");
        return false;
    } else {
        return true;
    }
}

// Check if a member is quoted
function userPresent(message) {
    if (message.mentions.users.size === 0) {
        message.reply("Please quote a member");

        return false;
    } else {
        return true;
    }
}