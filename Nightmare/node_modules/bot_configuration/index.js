const config = require("../../config.json");
const fs = require('fs');

module.exports.set_safe = function (args, config, message) {
    if (args == "safe" || args == "questionable" || args == "explicit") {
        config.pic_safe = args;
        fs.writeFile("../../config.json", JSON.stringify(config), function (err) {
            if (err)
                return console.log(err);
        });
        message.reply("Configuration changes done");
    } else {
        console.log("help lancer");
        return message.reply("Settings are :\n safe, questionable, explicit");
    }
};

module.exports.set_hello = function (args, config, message) {
    console.log(config.hello);
    if (config.hello == "true" && args == "false") {
        console.log("true -> false");
        config.hello = "false";
        fs.writeFile("../../config.json", JSON.stringify(config), function (err) {
            if (err)
                return console.log(err);
            console.log(JSON.stringify(config));
            console.log('writing to ../../config.json');
            message.reply("setting greetings configuration on false");
        });
    } else if (config.hello == "false" && args == "false") {
        message.reply("greetings configuration is already on false");
    } else if (config.hello == "false" && args == "true") {
        console.log("false -> true");
        config.hello = "true";
        fs.writeFile("../../config.json", JSON.stringify(config), function (err) {
            if (err)
                return console.log(err);
            console.log(JSON.stringify(config));
            console.log('writing to ../../config.json');
            message.reply("setting greetings configuration on true");
        });
    } else if (config.hello == "true" && args == "true") {
        message.reply("greetings configuration is already on true");
    } else {
        message.reply("==set_safe true /false");
    }
};